{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="text-center mb-5">
            <h1 class="display-4 mb-4">Enterprise Online Search</h1>
            <p class="lead">„Ç≠„Éº„ÉØ„Éº„Éâ„Çí‰Ωø„Å£„Åü‰ºÅÊ•≠Ê§úÁ¥¢„Ç®„É≥„Ç∏„É≥</p>
        </div>
        
        <div class="search-container">
            <form action="{{ url_for('main.search') }}" method="GET">
                <div class="input-group mb-3 position-relative">
                    <input type="text" 
                           id="searchInput"
                           name="q" 
                           class="form-control form-control-lg" 
                           placeholder="Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ..."
                           autocomplete="off"
                           required
                           autofocus>
                    <button class="btn btn-primary btn-lg" type="submit">Ê§úÁ¥¢</button>
                    
                    <!-- Search suggestions dropdown -->
                    <div id="searchSuggestions" class="suggestions-dropdown" style="display: none;">
                        <div class="suggestions-header">
                            <small class="text-muted">üèÜ ‰∫∫Ê∞ó„ÅÆÊ§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ</small>
                        </div>
                        <div id="suggestionsList"></div>
                    </div>
                </div>
                
                <div class="row g-2">
                    <div class="col-md-4">
                        <select name="prefecture" class="form-select" required>
                            <option value="tokyo">Êù±‰∫¨ÈÉΩ</option>
                            <option value="osaka">Â§ßÈò™Â∫ú</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="cust_status" class="form-select">
                            <option value="">„Åô„Åπ„Å¶„ÅÆÈ°ßÂÆ¢</option>
                            <option value="ÁôΩÂú∞">ÁôΩÂú∞</option>
                            <option value="Êó¢Â≠ò">Êó¢Â≠ò</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="limit" class="form-select">
                            <option value="10">10‰ª∂</option>
                            <option value="20">20‰ª∂</option>
                            <option value="50">50‰ª∂</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="mt-5">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-muted mb-3">üí° Ê§úÁ¥¢„ÅÆ„Éí„É≥„Éà</h6>
                    <div class="row">
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>"ÂÆåÂÖ®‰∏ÄËá¥"</strong><br>
                                ÂÆåÂÖ®‰∏ÄËá¥Ê§úÁ¥¢
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>Âú∞Âüü„ÉªÈ°ßÂÆ¢„Éï„Ç£„É´„Çø</strong><br>
                                Áµû„ÇäËæº„ÅøÊ§úÁ¥¢
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>Ë§áÊï∞„Ç≠„Éº„ÉØ„Éº„Éâ</strong><br>
                                ORÊ§úÁ¥¢
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Embed popular queries data for instant dropdown
window.popularQueries = {{ popular_queries | tojson }};
</script>
{% endblock %}