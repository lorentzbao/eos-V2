{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="text-center mb-5">
            <h1 class="display-4 mb-4">Enterprise Online Search</h1>
            <p class="lead">キーワードを使った企業検索エンジン</p>
        </div>
        
        <div class="search-container">
            <form action="{{ url_for('main.search') }}" method="GET">
                <div class="input-group mb-3 position-relative">
                    <input type="text" 
                           id="searchInput"
                           name="q" 
                           class="form-control form-control-lg" 
                           placeholder="検索キーワードを入力してください..."
                           autocomplete="off"
                           required
                           autofocus>
                    <button class="btn btn-primary btn-lg" type="submit">検索</button>
                    
                    <!-- Search suggestions dropdown -->
                    <div id="searchSuggestions" class="suggestions-dropdown" style="display: none;">
                        <div class="suggestions-header">
                            <small class="text-muted">🏆 人気の検索キーワード</small>
                        </div>
                        <div id="suggestionsList"></div>
                    </div>
                </div>
                
                <div class="row g-2">
                    <div class="col-md-4">
                        <select name="prefecture" class="form-select" required>
                            <option value="tokyo">東京都</option>
                            <option value="osaka">大阪府</option>
                            <option value="kochi">高知県</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="cust_status" class="form-select">
                            <option value="">すべての顧客</option>
                            <option value="白地">白地</option>
                            <option value="契約">契約</option>
                            <option value="過去">過去</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="limit" class="form-select">
                            <option value="10">10件</option>
                            <option value="20">20件</option>
                            <option value="50">50件</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="mt-5">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-muted mb-3">💡 検索のヒント</h6>
                    <div class="row">
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>"完全一致"</strong><br>
                                完全一致検索
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>地域・顧客フィルタ</strong><br>
                                絞り込み検索
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>複数キーワード</strong><br>
                                OR検索
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Embed popular queries data for instant dropdown
window.popularQueries = {{ popular_queries | tojson }};
</script>
{% endblock %}