{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="text-center mb-5">
            <h1 class="display-4 mb-4">Enterprise Online Search</h1>
            <p class="lead">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸä¼æ¥­æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³</p>
        </div>
        
        <div class="search-container">
            <form action="{{ url_for('main.search') }}" method="GET">
                <div class="input-group mb-3 position-relative">
                    <input type="text" 
                           id="searchInput"
                           name="q" 
                           class="form-control form-control-lg" 
                           placeholder="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."
                           autocomplete="off"
                           required
                           autofocus>
                    <button class="btn btn-primary btn-lg" type="submit">æ¤œç´¢</button>
                    
                    <!-- Search suggestions dropdown -->
                    <div id="searchSuggestions" class="suggestions-dropdown" style="display: none;">
                        <div class="suggestions-header">
                            <small class="text-muted">ğŸ† äººæ°—ã®æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</small>
                        </div>
                        <div id="suggestionsList"></div>
                    </div>
                </div>
                
                <div class="row g-2">
                    <div class="col-md-4">
                        <select name="prefecture" class="form-select" required>
                            <option value="tokyo">æ±äº¬éƒ½</option>
                            <option value="osaka">å¤§é˜ªåºœ</option>
                            <option value="kochi">é«˜çŸ¥çœŒ</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="cust_status" class="form-select">
                            <option value="">ã™ã¹ã¦ã®é¡§å®¢</option>
                            <option value="ç™½åœ°">ç™½åœ°</option>
                            <option value="å¥‘ç´„">å¥‘ç´„</option>
                            <option value="éå»">éå»</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select name="limit" class="form-select">
                            <option value="10">10ä»¶</option>
                            <option value="20">20ä»¶</option>
                            <option value="50">50ä»¶</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="mt-5">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-muted mb-3">ğŸ’¡ æ¤œç´¢ã®ãƒ’ãƒ³ãƒˆ</h6>
                    <div class="row">
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>"å®Œå…¨ä¸€è‡´"</strong><br>
                                å®Œå…¨ä¸€è‡´æ¤œç´¢
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>åœ°åŸŸãƒ»é¡§å®¢ãƒ•ã‚£ãƒ«ã‚¿</strong><br>
                                çµã‚Šè¾¼ã¿æ¤œç´¢
                            </small>
                        </div>
                        <div class="col-md-4 mb-2">
                            <small class="text-muted">
                                <strong>è¤‡æ•°ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</strong><br>
                                ORæ¤œç´¢
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Embed popular queries data for instant dropdown
window.popularQueries = {{ popular_queries | tojson }};
</script>
{% endblock %}